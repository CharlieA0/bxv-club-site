//Disclaimer window
window.confirm("By proceeding to this page, you agree to recognize this programing project uses stock price data for information and illustrative purposes only. It is not, and should not be regarded as investment advice or as a recommendation regarding any particular security or course of action. All investments entail risks.  I do not purport to and do not, in any fashion, provide broker/dealer, consulting or any related services or hold expertise in these areas. You should consult your advisors, brokers, or the U.S. Securities and Exchange Commission with respect to these areas or for more information. I will not carry any any liability for any damages of any kind whatsoever relating to this material. By viewing this material, you acknowledge, understand and accept the foregoing.");

//Ajax Request for PHP
function getStockUpdate {
	getRequest("stockAlgorithm.php", drawOutput, drawError);
	return false;
}

//handle drawing an error message
function drawError {
	document.getElementById("stock_price").innerHTML = "Oops! Someone forgot the Magic. Please try again later";
}

//handle sucess by drawing the response
function drawOutput {
	document.getElementById("stock_price").innerHTML = price;
}

//helper function to handle cross browser request
function getRequest(url, success, error) {
    var req = false;
    try{
        // most browsers
        req = new XMLHttpRequest();
    } catch (e){
        // IE
        try{
            req = new ActiveXObject("Msxml2.XMLHTTP");
        } catch(e) {
            // try an older version
            try{
                req = new ActiveXObject("Microsoft.XMLHTTP");
            } catch(e) {
                return false;
            }
        }
    }
    if (!req) return false;
    if (typeof success != 'function') success = function () {};
    if (typeof error != 'function') error = function () {};
    req.onreadystatechange = function(){
        if(req.readyState == 4) {
            return req.status === 200 ? 
                success(req.updatePrediction) : error(req.status);
        }
    }
    req.open("GET", url, true);
    req.send(null);
    return req;
}


